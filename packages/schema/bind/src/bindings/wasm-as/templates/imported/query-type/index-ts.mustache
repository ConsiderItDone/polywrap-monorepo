import {
  w3_subinvoke,
  Nullable
} from "@web3api/wasm-as";
{{#methods.length}}
import {
  {{#methods}}
  serialize{{name}}Args,
  deserialize{{name}}Result{{^last}},{{/last}}
  {{/methods}}
} from "./serialization";
{{/methods.length}}

export class {{name}} {

  public static uri: string = "{{uri}}";

  {{#methods}}
  public static {{name}}(input: {
    {{#arguments}}
    {{name}}: {{#toWasm}}{{type}}{{/toWasm}}{{^last}},{{/last}}
    {{/arguments}}
  }): {{#toWasm}}{{return.type}}{{/toWasm}} {
    const args = serialize{{name}}Args(input);
    const result = w3_subinvoke(
      uri,
      "{{operation}}",
      "{{name}}",
      args
    );
    return deserialize{{name}}Result(result);
  }
  {{^last}}

  {{/last}}
  {{/methods}}
}
