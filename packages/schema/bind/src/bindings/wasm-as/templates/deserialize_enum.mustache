{{#required}}
let value: Types.{{type}};
if (reader.isNextEnumValue()) {
  value = Types.match{{type}}ByValue(reader.readInt32());
} else {
  value = Types.match{{type}}ByKey(reader.readString());
}
{{/required}}
{{^required}}
let value: Nullable<Types.{{type}}>;
if (!reader.isNextNil()) {
  if (reader.isNextEnumValue()) {
    value = Nullable.fromValue(Types.match{{type}}ByValue(reader.readInt32()));
  } else {
    value = Nullable.fromValue(Types.match{{type}}ByKey(reader.readString()));
  }
} else {
  value = Nullable.fromNull<Types.{{type}}>();
}
{{/required}}
