import { Nullable } from "@web3api/wasm-as";
import {
  serialize{{type}},
  deserialize{{type}}
} from "./serialization";
import * as Objects from "../";

export class {{type}} {
  {{#properties}}
  {{#scalar}}
  {{name}}: {{#toWasm}}{{toGraphQLType}}{{/toWasm}};
  {{/scalar}}
  {{#array}}
  {{name}}: {{#toWasm}}{{toGraphQLType}}{{/toWasm}};
  {{/array}}
  {{#object}}
  {{name}}: {{#toWasm}}Objects.{{toGraphQLType}}{{/toWasm}};
  {{/object}}
  {{/properties}}

  toBuffer(): ArrayBuffer {
    return serialize{{type}}(this);
  }

  fromBuffer(buffer: ArrayBuffer): void {
    deserialize{{type}}(buffer, this);
  }
}
