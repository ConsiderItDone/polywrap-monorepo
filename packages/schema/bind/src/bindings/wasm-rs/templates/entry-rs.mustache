{{#queryTypes}}
{{#methods.length}}
use crate::{
    {{#methods}}
    {{#toLower}}{{name}}{{/toLower}}_wrapped,
    {{/methods}}
};
{{/methods.length}}
{{/queryTypes}}
use polywrap_wasm_rs::{
    abort,
    invoke,
    InvokeArgs
};

#[no_mangle]
pub extern "C" fn _w3_invoke(method_size: u32, args_size: u32) -> bool {
    let args: InvokeArgs = invoke::w3_invoke_args(
        method_size,
        args_size
    );

    match args.method {
        {{#queryTypes}}
        {{#methods}}
        "{{name}}" =>
            return invoke::w3_invoke(args, {{#toLower}}{{name}}{{/toLower}}_wrapped);
        {{/methods}}
        {{/queryTypes}}
        _ => return invoke::w3_invoke(options, None);
    }
}

pub fn w3_abort(msg: &str, file: &str, line: u32, column: u32) {
    abort::w3_abort(msg, file, line, column);
}
