{{#required}}
{{type}}::write(&object.{{#toLower}}{{name}}{{/toLower}}, writer);
{{/required}}
{{^required}}
if object.{{#toLower}}{{name}}{{/toLower}}.is_some() {
    {{type}}::write(object.{{#toLower}}{{name}}{{/toLower}}.as_ref().unwrap(), writer);
} else {
    writer.write_nil();
}
{{/required}}
