{{#required}}
{{type}}::write(&mut object.{{#toLower}}{{name}}{{/toLower}}.clone(), &mut writer);
{{/required}}
{{^required}}
if object.{{#toLower}}{{name}}{{/toLower}}.is_some() {
    {{type}}::write(&mut object.{{#toLower}}{{name}}{{/toLower}}.clone().unwrap(), &mut writer);
} else {
    writer.write_nil();
}
{{/required}}
