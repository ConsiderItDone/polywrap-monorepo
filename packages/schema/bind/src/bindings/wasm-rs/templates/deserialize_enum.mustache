{{#required}}
let mut value = {{#toUpper}}{{type}}{{/toUpper}}::_MAX_;
if reader.is_next_string().unwrap() {
    value = get_{{#toLower}}{{type}}{{/toLower}}_value(&reader.read_string().unwrap()).unwrap();
} else {
    value = {{#toUpper}}{{type}}{{/toUpper}}::try_from(reader.read_i32().unwrap()).unwrap();
    sanitize_{{#toLower}}{{type}}{{/toLower}}_value(value as i32).unwrap();
}
{{/required}}
{{^required}}
let mut value: {{#toWasm}}{{toGraphQLType}}{{/toWasm}} = None;
if !reader.is_next_nil().unwrap() {
    if reader.is_next_string().unwrap() {
        value = Some(get_{{#toLower}}{{type}}{{/toLower}}_value(&reader.read_string().unwrap()).unwrap());
    } else {
        value = Some({{#toUpper}}{{type}}{{/toUpper}}::try_from(reader.read_i32().unwrap()).unwrap());
        sanitize_{{#toLower}}{{type}}{{/toLower}}_value(value.unwrap() as i32).unwrap();
    }
} else {
    value = None;
}
{{/required}}